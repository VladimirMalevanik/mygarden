<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>MyGarden ‚Ä¢ –ú–æ–π –°–∞–¥</title>
  <link rel="stylesheet" href="styles.css"/>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body class="theme-bright">
  <header class="topbar">
    <div class="brand">MyGarden</div>
    <div id="status" class="status">web</div>
  </header>

  <!-- –ü–û–õ–ù–û–≠–ö–†–ê–ù–ù–´–ô –°–ê–î -->
  <main class="garden-full">
    <div class="garden-bg"></div>
    <div class="garden-layer">
      <!-- —Ä–æ—Å—Ç–æ–∫ -->
      <img id="sproutImg" class="sprout" src="assets/sprout.png" alt="sprout"
           onerror="this.replaceWith(document.createTextNode('üå±'))">
      <!-- –¥–µ–¥—É—à–∫–∞ -->
      <img id="grandpa" class="grandpa" src="assets/grandpa.png" alt="—Å–∞–¥–æ–≤–Ω–∏–∫"
           onerror="this.replaceWith(document.createTextNode('üë¥'))">
    </div>

    <!-- –ü–ª–∞–≤–∞—é—â–∏–π –í–ò–î–ñ–ï–¢ ¬´–°–µ–≥–æ–¥–Ω—è –æ—Å—Ç–∞–ª–æ—Å—å¬ª (–≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É) -->
    <aside class="today-widget card" id="todayWidget">
      <div class="tw-head">–°–µ–≥–æ–¥–Ω—è –æ—Å—Ç–∞–ª–æ—Å—å</div>
      <div id="twList" class="tw-list"></div>
      <button id="twBigPlus" class="tw-big-plus" title="–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É">+</button>
    </aside>
  </main>

  <!-- –ù–ò–ñ–ù–Ø–Ø –ü–ê–ù–ï–õ–¨ (5 –≤–∫–ª–∞–¥–æ–∫), –∞–∫—Ç–∏–≤–Ω–∞ —Ç–æ–ª—å–∫–æ 3-—è -->
  <nav class="tabbar">
    <button class="tab-btn" disabled title="–î–æ–º">üè†</button>
    <button class="tab-btn" disabled title="–ó–∞–¥–∞—á–∏">üìù</button>
    <button class="tab-btn active" title="–ú–æ–π –°–∞–¥">üå≥</button>
    <button class="tab-btn" disabled title="–õ–∏—Å—Ç">üçÉ</button>
    <button class="tab-btn" disabled title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
  </nav>

  <!-- –û–ù–ë–û–†–î–ò–ù–ì (—Å–ª–∞–π–¥—ã 1‚Äì4) -->
  <div id="onbBackdrop" class="onb-backdrop hidden"></div>
  <div id="onb" class="onb hidden" role="dialog" aria-modal="true">
    <!-- –°–õ–ê–ô–î 1: –ó–∞—Å—Ç–∞–≤–∫–∞ -->
    <section class="onb-slide" data-step="1">
      <div class="onb-card splash">
        <h1 class="logo">MyGarden</h1>
        <p class="tagline">—Å–¥–µ–ª–∞–π —Å–∫—É–∫—É —Å–≤–æ–∏–º –¥—Ä—É–≥–æ–º</p>
        <button class="btn gold" data-next>–ù–∞—á–∞—Ç—å</button>
      </div>
    </section>
    <!-- –°–õ–ê–ô–î 2: –¶–µ–ª—å –∂–∏–∑–Ω–∏ -->
    <section class="onb-slide" data-step="2">
      <div class="onb-card">
        <h2>–¶–µ–ª—å –≤–∞—à–µ–π –∂–∏–∑–Ω–∏</h2>
        <label class="field">
          <input id="lifeGoal" placeholder="–Ω–∞–ø–∏—à–∏—Ç–µ –ø–µ—Ä–≤–æ–µ, —á—Ç–æ –ø—Ä–∏—à–ª–æ –≤–∞–º –≤ –≥–æ–ª–æ–≤—É"/>
        </label>
        <button class="btn gold" data-next>–û–ö</button>
      </div>
    </section>
    <!-- –°–õ–ê–ô–î 3: –¢—Ä–∏ —Ü–µ–ª–∏ –Ω–∞ –≥–æ–¥ -->
    <section class="onb-slide" data-step="3">
      <div class="onb-card">
        <h2>–ß–µ–≥–æ –±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ –¥–æ—Å—Ç–∏—á—å –∑–∞ —ç—Ç–æ—Ç –≥–æ–¥</h2>
        <label class="field"><input id="y1" placeholder="1." /></label>
        <label class="field"><input id="y2" placeholder="2." /></label>
        <label class="field"><input id="y3" placeholder="3." /></label>
        <button class="btn gold" data-next>–û–ö</button>
      </div>
    </section>
    <!-- –°–õ–ê–ô–î 4: –ü–æ–¥–∞—Ä–æ–∫ -->
    <section class="onb-slide" data-step="4">
      <div class="onb-card congrats">
        <h2>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</h2>
        <p>–í—ã —Å–¥–µ–ª–∞–ª–∏ –ø–µ—Ä–≤—ã–π —à–∞–≥ –Ω–∞ –ø—É—Ç–∏ –∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—é ‚Äî –Ω–∞—á–∞—Ç—å. –í—ã –∑–∞—Å–ª—É–∂–∏–ª–∏ –ø–æ–¥–∞—Ä–æ–∫!</p>
        <div class="gift">üéÅ</div>
        <button class="btn gold" id="onbFinish">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
      </div>
    </section>
  </div>

  <!-- –ú–û–î–ê–õ–ö–ê –°–û–ó–î–ê–ù–ò–Ø –ó–ê–î–ê–ß–ò -->
  <div id="modalBackdrop" class="backdrop hidden"></div>
  <div id="taskModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-header">
      <div>–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</div>
      <button id="closeModal" class="icon-btn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
    </div>
    <div class="modal-body">
      <label class="field">
        <span>–ß—Ç–æ –±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ —Å–¥–µ–ª–∞—Ç—å?</span>
        <input id="f_title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –≤—ã—É—á–∏—Ç—å 20 —Å–ª–æ–≤"/>
      </label>

      <div class="row">
        <label class="field">
          <span>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</span>
          <select id="f_priority">
            <option value="low">–Ω–∏–∑–∫–∏–π</option>
            <option value="medium" selected>—Å—Ä–µ–¥–Ω–∏–π</option>
            <option value="high">–≤—ã—Å–æ–∫–∏–π</option>
          </select>
        </label>
        <label class="field">
          <span>–ü—Ä–æ–µ–∫—Ç</span>
          <input id="f_project" placeholder="–£—á—ë–±–∞ / –°–ø–æ—Ä—Ç / –î–æ–º"/>
        </label>
      </div>

      <div class="row">
        <label class="field">
          <span>–î–∞—Ç–∞</span>
          <input id="f_date" type="date"/>
        </label>
        <label class="field">
          <span>–í—Ä–µ–º—è</span>
          <input id="f_time" type="time"/>
        </label>
      </div>

      <div class="row">
        <label class="field">
          <span>–†–µ–∂–∏–º</span>
          <select id="f_mode">
            <option value="timer" selected>—Ç–∞–π–º–µ—Ä</option>
            <option value="checkbox">—á–µ–∫–±–æ–∫—Å</option>
            <option value="counter">—Å—á—ë—Ç—á–∏–∫</option>
          </select>
        </label>
        <label class="field">
          <span>–û—Ü–µ–Ω–∫–∞ (–º–∏–Ω)</span>
          <input id="f_effort" type="number" min="1" value="25"/>
        </label>
      </div>

      <div class="row">
        <button id="saveTask" class="btn primary">–î–æ–±–∞–≤–∏—Ç—å</button>
      </div>
      <div id="formHint" class="muted small"></div>
    </div>
  </div>

  <!-- –¢–æ—Å—Ç -->
  <div id="toast" class="toast hidden"></div>

  <footer class="footer">API: <code id="apiBase"></code></footer>
  <script src="app.js"></script>
</body>
</html>
